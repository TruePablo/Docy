
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>TheMusic_bot &#8212; Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Music Bot 1.0.3</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    
    <link rel="index" title="ĞĞ»Ñ„Ğ°Ğ²Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ" href="genindex.html" />
    <link rel="search" title="ĞŸĞ¾Ğ¸ÑĞº" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="ĞĞ»Ñ„Ğ°Ğ²Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ"
             accesskey="I">ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ</a></li>
        <li class="nav-item nav-item-0"><a href="#">Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Music Bot 1.0.3</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">TheMusic_bot</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="themusic-bot">
<h1>TheMusic_bot<a class="headerlink" href="#themusic-bot" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">ĞĞ»Ñ„Ğ°Ğ²Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">ĞŸĞ¾Ğ¸ÑĞº</span></a></p></li>
</ul>
</section>
<section id="id1">
<h1>Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸:<a class="headerlink" href="#id1" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<p>â—‹ pyTelegramBotApi
â—‹ Yandex_Music_Api
â—‹ OS</p>
</section>
<section id="id2">
<h1>ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ±Ğ¾Ñ‚Ğ°:<a class="headerlink" href="#id2" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<ul class="simple">
<li><p>Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ñ API Ğ¯Ğ½Ğ´ĞµĞºÑ.ĞœÑƒĞ·Ñ‹ĞºĞ¸</p></li>
<li><p>Inline ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ°</p></li>
<li><p>ĞŸĞ¾Ğ¸ÑĞº ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ</p></li>
<li><p>ĞŸĞ¾Ğ¸ÑĞº Ğ°Ğ»ÑŒĞ±Ğ¾Ğ¼Ğ¾Ğ² Ğ¿Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸</p></li>
<li><p>ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ‡Ğ°Ñ€Ñ‚Ğ° Ğ¯Ğ½Ğ´ĞµĞºÑ.ĞœÑƒĞ·Ñ‹ĞºĞ¸</p></li>
<li><p>ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑĞµĞ½ Ğ¸Ğ· Ñ‡Ğ°Ñ€Ñ‚Ğ° Ğ¯Ğ½Ğ´ĞµĞºÑ.ĞœÑƒĞ·Ñ‹ĞºĞ¸</p></li>
</ul>
</section>
<section id="yandex-music-api">
<h1>Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Yandex_Music_Api:<a class="headerlink" href="#yandex-music-api" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
</section>
<section id="id3">
<h1>1. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ², ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ‘Ğ”:<a class="headerlink" href="#id3" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<p>client = Client(Â«Ğ¢Ğ¾ĞºĞµĞ½ Ğ¸Ğ· ÑĞ½Ğ´ĞµĞºÑ.Ğ¼ÑƒĞ·Ñ‹ĞºĞ¸Â»).init()
bot = telebot.TeleBot(â€Ğ¢Ğ¾ĞºĞµĞ½ Ñ‚ĞµĞ»ĞµĞ³Ñ€Ğ°Ğ¼Ğ°â€œ)
SRC = â€covers/â€œ
client.init()
type_to_name = {</p>
<blockquote>
<div><p>â€trackâ€œ: â€Ñ‚Ñ€ĞµĞºâ€œ,
â€artistâ€œ: â€Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒâ€œ,
â€albumâ€œ: â€Ğ°Ğ»ÑŒĞ±Ğ¾Ğ¼â€œ,
â€playlistâ€œ: â€Ğ¿Ğ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚â€œ,
â€videoâ€œ: â€Ğ²Ğ¸Ğ´ĞµĞ¾â€œ,
â€userâ€œ: â€Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒâ€œ,
â€podcastâ€œ: â€Ğ¿Ğ¾Ğ´ĞºĞ°ÑÑ‚â€œ,
â€podcast_episodeâ€œ: â€ÑĞ¿Ğ¸Ğ·Ğ¾Ğ´ Ğ¿Ğ¾Ğ´ĞºĞ°ÑÑ‚Ğ°â€œ,</p>
</div></blockquote>
<p>}</p>
</section>
<section id="id4">
<h1>2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€:<a class="headerlink" href="#id4" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<p>keyboardstart = telebot.types.ReplyKeyboardMarkup(True, True)
keyboardstart.row(â€ĞŸĞ¾Ğ¸ÑĞº Ğ¼ÑƒĞ·Ñ‹ĞºĞ¸â€œ, â€Ğ§Ğ°Ñ€Ñ‚â€œ, â€ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒâ€œ)
keyboardchart = telebot.types.ReplyKeyboardMarkup(True, True)
keyboardchart.row(â€Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ¸â€œ)
keyboardalbum = telebot.types.ReplyKeyboardMarkup(True, True)
keyboardchart.row(â€ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ²ĞµÑÑŒ Ğ°Ğ»ÑŒĞ±Ğ¾Ğ¼â€œ, â€ĞĞ°Ğ·Ğ°Ğ´â€œ)
keyboardtex = telebot.types.ReplyKeyboardMarkup(True, True)
keyboardtex.row(â€ĞĞ°Ğ·Ğ°Ğ´â€œ)</p>
</section>
<section id="start">
<h1>3. Ğ¥ĞµĞ½Ğ´Ğ»ĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ /start:<a class="headerlink" href="#start" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<p>&#64;bot.message_handler(commands=[â€startâ€œ])
def start_message(message):</p>
<blockquote>
<div><p>bot.send_message(message.chat.id, â€Ğ­Ñ‚Ğ¾ Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ°ÑƒĞ´Ğ¸Ğ¾, ĞºĞ»Ğ¸Ğ¿Ğ¾Ğ² Ğ¸ Ñ‚.Ğ´.â€œ, reply_markup=keyboardstart)</p>
</div></blockquote>
</section>
<section id="id5">
<h1>4. Ğ¥ĞµĞ½Ğ´Ğ»ĞµÑ€ Ñ‚ĞµĞºÑÑ‚Ğ°, Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼Ğ¾Ğ³Ğ¾ Ğ² ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¸ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹:<a class="headerlink" href="#id5" title="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº">Â¶</a></h1>
<p>&#64;bot.message_handler(content_types=[â€textâ€œ])
def send_message(message):</p>
<blockquote>
<div><dl>
<dt>if message.text == â€ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒâ€œ:</dt><dd><p>bot.send_message(message.chat.id, â€Ğ¡Ğ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¾Ğ¼ - <a class="reference external" href="https://t.me/noofme">https://t.me/noofme</a>â€œ, reply_markup=keyboardstart)</p>
</dd>
<dt>if message.text == â€Ğ¢ĞµĞºÑÑ‚ Ğ¿ĞµÑĞ½Ğ¸â€œ:</dt><dd><p>bot.send_message(message.chat.id, â€Ğ Ğ°Ğ·Ğ´ĞµĞ» Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµâ€œ, reply_markup=keyboardstart)</p>
</dd>
<dt>if message.text == â€ĞŸĞ¾Ğ¸ÑĞº Ğ¼ÑƒĞ·Ñ‹ĞºĞ¸â€œ:</dt><dd><p>bot.send_message(message.chat.id, â€Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿ĞµÑĞ½Ğ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ¹Ñ‚Ğ¸:â€œ)
bot.register_next_step_handler(message, send_search_request_and_print_result)</p>
</dd>
<dt>if message.text == â€Ğ§Ğ°Ñ€Ñ‚â€œ:</dt><dd><p>CHART_ID = â€worldâ€œ
TOKEN = os.environ.get(â€AQAAAAAc65qhAAG8XjyfoAhskUCSi6PAgpWv-2Iâ€œ)</p>
<p>client = Client(TOKEN).init()
chart = client.chart(CHART_ID).chart</p>
<p>text = [fâ€œğŸ† {chart.title}â€œ, chart.description, â€â€œ, â€Ğ¢Ñ€ĞµĞºĞ¸:â€œ]
f = 0
for track_short in chart.tracks:</p>
<blockquote>
<div><p>track, chart = track_short.track, track_short.chart
artists = â€â€œ
if track.artists:</p>
<blockquote>
<div><p>artists = â€ - â€ + â€, â€.join(artist.name for artist in track.artists)</p>
</div></blockquote>
<p>filename = f
if os.path.exists(fÂ»{filename}.mp3Â»):</p>
<blockquote>
<div><p>pass</p>
</div></blockquote>
<p>#audio = open(fâ€™C:/Users/Paul/PycharmProjects/resposbot/{filename}.mp3â€œ, â€rbâ€œ)
#bot.send_audio(message.chat.id, audio)
#audio.close()
track_text = fâ€œ{track.title}{artists}â€œ
#bot.send_message(message.chat.id, client.tracks_download_info(track_id=track.id, get_direct_links=True))
if chart.progress == â€downâ€œ:</p>
<blockquote>
<div><p>track_text = â€ğŸ”» â€ + track_text</p>
</div></blockquote>
<dl class="simple">
<dt>elif chart.progress == â€upâ€œ:</dt><dd><p>track_text = â€ğŸ”º â€ + track_text</p>
</dd>
<dt>elif chart.progress == â€newâ€œ:</dt><dd><p>track_text = â€ğŸ†• â€ + track_text</p>
</dd>
<dt>elif chart.position == 1:</dt><dd><p>track_text = â€ğŸ‘‘ â€ + track_text</p>
</dd>
</dl>
<p>track_text = fâ€œ{chart.position} {track_text}â€œ
text.append(track_text)
f+=1</p>
</div></blockquote>
<p>bot.send_message(message.chat.id, fâ€œnâ€œ.join(text), reply_markup=keyboardchart)</p>
</dd>
<dt>if message.text == â€ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ²ĞµÑÑŒ Ğ°Ğ»ÑŒĞ±Ğ¾Ğ¼â€œ:</dt><dd><p>bot.send_message(message.chat.id, â€Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚Ñ€ĞµĞºĞ°, Ğº ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¼Ñƒ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ°Ğ»ÑŒĞ±Ğ¾Ğ¼:â€œ)
bot.register_next_step_handler(message, find_album_by_id)</p>
</dd>
<dt>if message.text == â€ĞĞ°Ğ·Ğ°Ğ´â€œ:</dt><dd><p>bot.send_message(message.chat.id, â€Ğ’Ñ‹ Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¼ Ğ¼ĞµĞ½Ñ:â€œ, reply_markup=keyboardstart)</p>
</dd>
<dt>if message.text == â€Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ¸â€œ:</dt><dd><p>bot.send_message(message.chat.id, â€Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚Ñ€ĞµĞºĞ°:â€œ,reply_markup=keyboardalbum)
bot.register_next_step_handler(message, senda)</p>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>def find_album_by_id(message):</dt><dd><dl>
<dt>try:</dt><dd><p>num = int(message.text)
CHART_ID = â€worldâ€œ
TOKEN = os.environ.get(â€AQAAAAAc65qhAAG8XjyfoAhskUCSi6PAgpWv-2Iâ€œ)
client = Client(TOKEN).init()
chart = client.chart(CHART_ID).chart
for track_short in chart.tracks:</p>
<blockquote>
<div><p>track, chart = track_short.track, track_short.chart
if chart.position != num:</p>
<blockquote>
<div><p>chart.position += 1</p>
</div></blockquote>
<dl>
<dt>else:</dt><dd><p>ALBUM_ID = track.albums[0].id</p>
<p>album = client.albums_with_tracks(ALBUM_ID)
tracks = []
for i, volume in enumerate(album.volumes):</p>
<blockquote>
<div><dl class="simple">
<dt>if len(album.volumes) &gt; 1:</dt><dd><p>tracks.append(fâ€œğŸ’¿ Ğ”Ğ¸ÑĞº {i + 1}â€œ)</p>
</dd>
</dl>
<p>tracks += volume</p>
</div></blockquote>
<p>text = â€ĞĞ›Ğ¬Ğ‘ĞĞœnnâ€œ
text += fâ€œ{album.title}nâ€œ
text += fÂ»Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒ: {â€œ, â€.join([artist.name for artist in album.artists])}nÂ»
text += fâ€œ{album.year} Â· {album.genre}nâ€œ</p>
<p>cover = album.cover_uri
if cover:</p>
<blockquote>
<div><p>text += fâ€™ĞĞ±Ğ»Ğ¾Ğ¶ĞºĞ°: {cover.replace(Â«%%Â», Â«400x400Â»)}nnâ€œ</p>
</div></blockquote>
<p>text += â€Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚Ñ€ĞµĞºĞ¾Ğ²:â€œ</p>
<p>bot.send_message(message.chat.id, text)</p>
<dl>
<dt>for track in tracks:</dt><dd><dl>
<dt>if isinstance(track, str):</dt><dd><p>bot.send_message(message.chat.id, track)</p>
</dd>
<dt>else:</dt><dd><p>artists = â€â€œ
if track.artists:</p>
<blockquote>
<div><p>artists = â€ - â€ + â€, â€.join(artist.name for artist in track.artists)</p>
</div></blockquote>
<p>bot.send_message(message.chat.id, track.title + artists)</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>except:</dt><dd><p>bot.send_message(message.chat.id, â€ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ°.â€œ)</p>
</dd>
</dl>
</dd>
<dt>def send_search_request_and_print_result(message):</dt><dd><p>query = message.text
search_result = client.search(query)</p>
<p>text = [fâ€™Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ Â«{query}Â»:â€œ, â€â€œ]
best_result_text = â€â€œ
try:</p>
<blockquote>
<div><p>search_result.best.result.download(filename=fâ€œ{search_result.best.result.title}.mp3â€œ, bitrate_in_kbps=192)</p>
</div></blockquote>
<dl>
<dt>except AttributeError:</dt><dd><p>bot.send_message(message.chat.id, â€ĞŸĞ¾ Ğ²Ğ°ÑˆĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾. Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ.â€œ)</p>
</dd>
<dt>if search_result.best:</dt><dd><p><a href="#id6"><span class="problematic" id="id7">type_</span></a> = search_result.best.type
best = search_result.best.result</p>
<p>text.append(fâ€œâ—ï¸Ğ›ÑƒÑ‡ÑˆĞ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {type_to_name.get(<a href="#id8"><span class="problematic" id="id9">type_</span></a>)}â€œ)</p>
<p>if <a href="#id10"><span class="problematic" id="id11">type_</span></a> in [â€trackâ€œ, â€podcast_episodeâ€œ]:</p>
<blockquote>
<div><p>artists = â€â€œ
if best.artists:</p>
<blockquote>
<div><p>artists = â€ - â€ + â€, â€.join(artist.name for artist in best.artists)</p>
</div></blockquote>
<p>best_result_text = best.title + artists</p>
</div></blockquote>
<dl class="simple">
<dt>elif <a href="#id12"><span class="problematic" id="id13">type_</span></a> == â€artistâ€œ:</dt><dd><p>best_result_text = best.name</p>
</dd>
<dt>elif <a href="#id14"><span class="problematic" id="id15">type_</span></a> in [â€albumâ€œ, â€podcastâ€œ]:</dt><dd><p>best_result_text = best.title</p>
</dd>
<dt>elif <a href="#id16"><span class="problematic" id="id17">type_</span></a> == â€playlistâ€œ:</dt><dd><p>best_result_text = best.title</p>
</dd>
<dt>elif <a href="#id18"><span class="problematic" id="id19">type_</span></a> == â€videoâ€œ:</dt><dd><p>best_result_text = fâ€œ{best.title} {best.text}â€œ</p>
</dd>
</dl>
<p>text.append(fâ€™Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ğ»ÑƒÑ‡ÑˆĞµĞ³Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°: {best_result_text}nâ€œ)</p>
</dd>
<dt>if search_result.artists:</dt><dd><p>text.append(fâ€™Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ĞµĞ¹: {search_result.artists.total}â€œ)</p>
</dd>
<dt>if search_result.albums:</dt><dd><p>text.append(fâ€™ĞĞ»ÑŒĞ±Ğ¾Ğ¼Ğ¾Ğ²: {search_result.albums.total}â€œ)</p>
</dd>
<dt>if search_result.tracks:</dt><dd><p>text.append(fâ€™Ğ¢Ñ€ĞµĞºĞ¾Ğ²: {search_result.tracks.total}â€œ)</p>
</dd>
<dt>if search_result.playlists:</dt><dd><p>text.append(fâ€™ĞŸĞ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚Ğ¾Ğ²: {search_result.playlists.total}â€œ)</p>
</dd>
<dt>if search_result.videos:</dt><dd><p>text.append(fâ€™Ğ’Ğ¸Ğ´ĞµĞ¾: {search_result.videos.total}â€œ)</p>
</dd>
<dt>try:</dt><dd><p>img = search_result.best.result.downloadCover(filename=â€œcover.pngâ€œ)
cover = open(â€cover.pngâ€œ, â€rbâ€œ)
bot.send_photo(message.chat.id, cover)
text.append(â€â€œ)
bot.send_message(message.chat.id, â€nâ€œ.join(text))
audio = open(fâ€œ{search_result.best.result.title}.mp3â€œ, â€rbâ€œ)
bot.send_audio(message.chat.id, audio, title=search_result.best.result.title, reply_markup=keyboardstart)
audio.close()</p>
</dd>
<dt>except AttributeError:</dt><dd><p>bot.send_message(message.chat.id, â€ĞŸĞ¾ Ğ²Ğ°ÑˆĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾. Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ.â€œ)</p>
</dd>
<dt>#except:</dt><dd><p>#bot.send_message(message.chat.id, â€ĞÑˆĞ¸Ğ±ĞºĞ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñâ€œ, reply_markup=keyboardstart)</p>
</dd>
</dl>
</dd>
</dl>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="#">ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ</a></h3>
    <ul>
<li><a class="reference internal" href="#">TheMusic_bot</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#id1">Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸:</a></li>
<li><a class="reference internal" href="#id2">ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ±Ğ¾Ñ‚Ğ°:</a></li>
<li><a class="reference internal" href="#yandex-music-api">Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Yandex_Music_Api:</a></li>
<li><a class="reference internal" href="#id3">1. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ², ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ‘Ğ”:</a></li>
<li><a class="reference internal" href="#id4">2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€:</a></li>
<li><a class="reference internal" href="#start">3. Ğ¥ĞµĞ½Ğ´Ğ»ĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ /start:</a></li>
<li><a class="reference internal" href="#id5">4. Ğ¥ĞµĞ½Ğ´Ğ»ĞµÑ€ Ñ‚ĞµĞºÑÑ‚Ğ°, Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼Ğ¾Ğ³Ğ¾ Ğ² ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¸ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹:</a></li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>Ğ­Ñ‚Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Ğ˜ÑĞºĞ°Ñ‚ÑŒ" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="ĞĞ»Ñ„Ğ°Ğ²Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ"
             >ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ</a></li>
        <li class="nav-item nav-item-0"><a href="#">Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Music Bot 1.0.3</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">TheMusic_bot</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Pavel Borisov.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>